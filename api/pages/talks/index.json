{"title":"talks","uid":"3ce67d81f676efea22e2d42823265dc5","text":" /* 页面初始化 */ div#page { background: none; border: 0; padding: 0; } [data-theme=dark] #twikoo .tk-content, #twikoo .tk-content { padding: 0; ...","date":"2023-03-29T15:37:06.000Z","updated":"2023-03-31T15:42:04.415Z","comments":true,"path":"api/pages/talks/index.json","covers":[],"excerpt":"","content":"<style>\n/* 页面初始化 */\ndiv#page {\n    background: none;\n    border: 0;\n    padding: 0;\n}\n\n[data-theme=dark] #twikoo .tk-content,\n#twikoo .tk-content {\n    padding: 0;\n    background: transparent;\n}\n\n.talk_item,\n.tk-expand,\n.tk-comments-container>.tk-comment,\n.tk-submit:nth-child(1){\n    background: var(--card-bg);\n    border: 1px solid #e0e3ed;\n    box-shadow: 0 5px 10px rgb(189 189 189 / 10%);\n    transition: all .3s ease-in-out;\n    border-radius: 12px;\n}\n.talk_item:hover,\n.tk-comments-container>.tk-comment:hover,\n.tk-submit:nth-child(1):hover {\n    border-color: #49b1f5;\n}\n\n.tk-submit {\n    padding: 20px 10px 0;\n}\n\n.tk-comments-container>.tk-comment {\n    padding: 15px;\n}\n\n/* 页面初始化结束 */\n\n#talk{\n    margin-top: 1rem;\n}\n\n#talk .loading {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n}\n\n#talk .loading img {\n    width: 200px;\n}\n\n.talk_item {\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    margin-bottom: 15px;\n}\n\n.avatar {\n    margin: 0 !important;\n    width: 60px;\n    height: 60px;\n    border-radius: 10px;\n}\n\n\n.talk_bottom,\n.talk_meta {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    line-height: 1.5;\n}\n.talk_bottom{\n    justify-content: space-between;\n}\n.info {\n    display: flex;\n    flex-direction: column;\n    margin-left: 10px;\n}\nspan.talk_nick {\n    color: #6dbdc3;\n    font-size: 1.2rem;\n}\nsvg.is-badge.icon {\n    width: 15px;\n    margin-left: 5px;\n    padding-top: 3px;\n}\nspan.talk_date {\n    opacity: .6;\n}\n\n.talk_content {\n    line-height: 1.5;\n    margin-top: 10px;\n}\n.zone_imgbox {\n    display: flex;\n    flex-wrap: wrap;\n    --w: calc(25% - 8px);\n    gap: 10px;\n    margin-top: 5px;\n}\n.zone_imgbox a {\n    display: block;\n    border-radius: 12px;\n    width: var(--w);\n    aspect-ratio: 1/1;\n    position: relative;\n}\n\n.zone_imgbox img {\n    width: 100%;\n    height: 100%;\n    margin: 0 !important;\n    object-fit: cover;\n}\n/* 底部 */\n\n.talk_bottom {\n    opacity: .9;\n}\n.talk_bottom .icon {\n    color: var(--font-color);\n    float: right;\n    transition: all .3s;\n}\n\n.talk_bottom .icon:hover {\n    color: #49b1f5;\n}\n\nspan.talk_tag{\n    font-size: 14px;\n}\n.talk_content>a {\n    margin: 0 3px;\n    color: #ff7d73 !important;\n}\n.talk_content>a:hover{\n    text-decoration: none !important;\n    color: #ff5143 !important\n}\n\n/* 提醒 */\n\n.limit {\n    transition: all .3s ease-in-out;\n    color: rgba(76, 73, 72, 0.6);\n}\n\n[data-theme=dark] .limit {\n    color: rgba(255, 255, 255, 0.5);\n}\n\n.limit {\n    display: none;\n    text-align: center;\n    margin-top: 20px;\n    color: var(--font-color);\n}\n@media screen and (max-width: 900px) {\n    .zone_imgbox {\n        --w: calc(33% - 5px);\n    }\n    #talk{\n        margin: 10px 3px 0\n    }\n    #post-comment{\n        margin: 0 3px\n    }\n}\n\n@media screen and (max-width: 768px) {\n    .zone_imgbox {\n        gap: 6px;\n    }\n    .zone_imgbox {\n        --w: calc(50% - 3px);\n    }\n    span.talk_date {\n        font-size: 14px;\n    }\n}\n</style>\n\n<div id=\"talk\">\n<div class='loading'><img src=\"/svg/loading.svg\" alt=\"加载中...\"></div>\n</div>\n<div class=\"limit\">- 只展示最近30条说说 -</div>\n\n<script>\npageTalk();\n// 页面说说\nfunction pageTalk() {\n    fetch('https://memosdp.zeabur.app/api/memo?creatorId=1&tag=说说&limit=30').then(res => res.json()).then(data => { // 注意修改域名和用户id\n        let items = [],\n            html = '',\n            icon = '<svg viewBox=\"0 0 512 512\"xmlns=\"http://www.w3.org/2000/svg\"class=\"is-badge icon\"><path d=\"m512 268c0 17.9-4.3 34.5-12.9 49.7s-20.1 27.1-34.6 35.4c.4 2.7.6 6.9.6 12.6 0 27.1-9.1 50.1-27.1 69.1-18.1 19.1-39.9 28.6-65.4 28.6-11.4 0-22.3-2.1-32.6-6.3-8 16.4-19.5 29.6-34.6 39.7-15 10.2-31.5 15.2-49.4 15.2-18.3 0-34.9-4.9-49.7-14.9-14.9-9.9-26.3-23.2-34.3-40-10.3 4.2-21.1 6.3-32.6 6.3-25.5 0-47.4-9.5-65.7-28.6-18.3-19-27.4-42.1-27.4-69.1 0-3 .4-7.2 1.1-12.6-14.5-8.4-26-20.2-34.6-35.4-8.5-15.2-12.8-31.8-12.8-49.7 0-19 4.8-36.5 14.3-52.3s22.3-27.5 38.3-35.1c-4.2-11.4-6.3-22.9-6.3-34.3 0-27 9.1-50.1 27.4-69.1s40.2-28.6 65.7-28.6c11.4 0 22.3 2.1 32.6 6.3 8-16.4 19.5-29.6 34.6-39.7 15-10.1 31.5-15.2 49.4-15.2s34.4 5.1 49.4 15.1c15 10.1 26.6 23.3 34.6 39.7 10.3-4.2 21.1-6.3 32.6-6.3 25.5 0 47.3 9.5 65.4 28.6s27.1 42.1 27.1 69.1c0 12.6-1.9 24-5.7 34.3 16 7.6 28.8 19.3 38.3 35.1 9.5 15.9 14.3 33.4 14.3 52.4zm-266.9 77.1 105.7-158.3c2.7-4.2 3.5-8.8 2.6-13.7-1-4.9-3.5-8.8-7.7-11.4-4.2-2.7-8.8-3.6-13.7-2.9-5 .8-9 3.2-12 7.4l-93.1 140-42.9-42.8c-3.8-3.8-8.2-5.6-13.1-5.4-5 .2-9.3 2-13.1 5.4-3.4 3.4-5.1 7.7-5.1 12.9 0 5.1 1.7 9.4 5.1 12.9l58.9 58.9 2.9 2.3c3.4 2.3 6.9 3.4 10.3 3.4 6.7-.1 11.8-2.9 15.2-8.7z\"fill=\"#1da1f2\"></path></svg>';\n        data.data.forEach(item => { items.push(Format(item)) });\n        if (items.length == 30) document.querySelector('.limit').style.display = 'block';\n        items.forEach(item => {\n            html += `<div class=\"talk_item\"><div class=\"talk_meta\"><img class=\"no-lightbox avatar\" src=\"https://tuchuang.voooe.cn/images/2023/03/30/20221026215735_24b27.webp\"><div class=\"info\"><span class=\"talk_nick\">Sunshine${icon}</span><span class=\"talk_date\">${item.date}</span></div></div><div class=\"talk_content\">${item.content}</div><div class=\"talk_bottom\"><div><span class=\"talk_tag\"># ${item.tag}</span></div><a href=\"javascript:;\"onclick=\"goComment('${item.text}')\"><span class=\"icon\"><i class=\"fa-solid fa-message fa-fw\"></i></span></a></div></div>` // 注意修改头像链接和名称\n        })\n        document.getElementById('talk').innerHTML = html\n    })\n}\n// 页面评论\nfunction goComment(e) {\n    var n = document.querySelector(\".el-textarea__inner\")\n    n.value = `> ${e}\\n\\n`;\n    n.focus();\n    btf.snackbarShow(\"无需删除空行，直接输入评论即可\", !1, 2e3);\n}\n// 页面内容格式化\nfunction Format(item) {\n    let date = getTime(new Date(item.createdTs * 1000).toString()),\n        content = item.content,\n        tag = item.content.match(/\\{(.*?)\\}/g),\n        imgls = content.match(/!\\[.*\\]\\(.*?\\)/g), // 2023-02-06更新\n        text = ''\n    text = content.replace(/#(.*?)\\s/g, '').replace(/\\!\\[(.*?)\\]\\((.*?)\\)/g, '').replace(/\\{(.*?)\\}/g, '')\n    content = text.replace(/\\[(.*?)\\]\\((.*?)\\)/g, `<a href=\"$2\">@$1</a>`);\n    if (imgls) {\n        content += `<div class=\"zone_imgbox\">`\n        imgls.map(item => { return item.replace(/!\\[.*\\]\\((.*?)\\)/, '$1') }).forEach(e => content += `<a href=\"${e}\" data-fancybox=\"gallery\" class=\"fancybox\" data-thumb=\"${e}\"><img src=\"${e}\"></a>` // 2023-02-06更新\n        )\n        content += '</div>'\n    }\n    return {\n        content: content,\n        tag: tag ? tag[0].replace(/\\{(.*?)\\}/,'$1') : '无标签',\n        date: date,\n        text: text.replace(/\\[(.*?)\\]\\((.*?)\\)/g, '[链接]' + `${imgls?'[图片]':''}`)\n    }\n}\n// 页面时间格式化\nfunction getTime(time) {\n    let d = new Date(time),\n        ls = [d.getFullYear(), d.getMonth() + 1, d.getDate(), d.getHours(), d.getMinutes(), d.getSeconds()];\n    for (let i = 0; i < ls.length; i++) {\n        ls[i] = ls[i] <= 9 ? '0' + ls[i] : ls[i] + ''\n    }\n    if (new Date().getFullYear() == ls[0]) return ls[1] + '月' + ls[2] + '日 ' + ls[3] +':'+ ls[4]\n    else return ls[0] + '年' + ls[1] + '月' + ls[2] + '日 ' + ls[3] +':'+ ls[4]\n}\n</script>","count_time":{"symbolsCount":"4.8k","symbolsTime":"4 mins."},"toc":""}